# ZMART Backend Environment Variables Template
# Copy this file to .env and fill in your actual values
# NEVER commit .env files with real values!

# ====================
# Server Configuration
# ====================
NODE_ENV=development
PORT=3000
LOG_LEVEL=info

# ====================
# Solana Configuration
# ====================
# Network: devnet, testnet, or mainnet-beta
SOLANA_NETWORK=devnet
SOLANA_RPC_URL=https://api.devnet.solana.com

# Program IDs (replace with your deployed program IDs)
SOLANA_PROGRAM_ID_CORE=YOUR_CORE_PROGRAM_ID_HERE
SOLANA_PROGRAM_ID_PROPOSAL=YOUR_PROPOSAL_PROGRAM_ID_HERE

# Authority Keypair Path (use environment-specific path)
# Example: /home/user/.config/solana/id.json
# Or use: $HOME/.config/solana/id.json
BACKEND_KEYPAIR_PATH=/path/to/your/keypair.json

# ====================
# Database Configuration (Supabase)
# ====================
SUPABASE_URL=https://YOUR_PROJECT.supabase.co
SUPABASE_ANON_KEY=YOUR_ANON_KEY_HERE
SUPABASE_SERVICE_ROLE_KEY=YOUR_SERVICE_ROLE_KEY_HERE

# Direct database connection (for migrations)
DATABASE_URL=postgresql://postgres:YOUR_PASSWORD@db.YOUR_PROJECT.supabase.co:5432/postgres

# ====================
# Redis Configuration (for Vote Aggregator)
# ====================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=YOUR_REDIS_PASSWORD_HERE

# ====================
# External Services
# ====================
# Helius (Solana RPC & Webhooks)
HELIUS_API_KEY=YOUR_HELIUS_API_KEY_HERE
HELIUS_WEBHOOK_SECRET=YOUR_WEBHOOK_SECRET_HERE
HELIUS_WEBHOOK_URL=https://your-domain.com/api/webhooks/helius

# Pinata (IPFS)
PINATA_API_KEY=YOUR_PINATA_API_KEY_HERE
PINATA_SECRET_API_KEY=YOUR_PINATA_SECRET_HERE
PINATA_JWT=YOUR_PINATA_JWT_HERE

# ====================
# API Configuration
# ====================
# CORS origins (comma-separated for multiple)
CORS_ORIGIN=http://localhost:3001,http://localhost:3002

# Rate limiting
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_WINDOW_MS=60000

# JWT for internal services
JWT_SECRET=GENERATE_A_SECURE_RANDOM_STRING_HERE

# ====================
# Monitoring & Alerts
# ====================
# Optional: Add your monitoring service credentials
SENTRY_DSN=YOUR_SENTRY_DSN_HERE
DATADOG_API_KEY=YOUR_DATADOG_KEY_HERE

# ====================
# Feature Flags
# ====================
ENABLE_REAL_TRANSACTIONS=false
ENABLE_BACKGROUND_AGGREGATION=true
ENABLE_WEBHOOK_VERIFICATION=true
ALLOW_INSECURE_WEBHOOKS=false

# ====================
# Notes on Security
# ====================
# 1. NEVER commit this file with real values
# 2. Use a password manager or secrets manager for production
# 3. Rotate all credentials regularly
# 4. Use different credentials for dev/staging/production
# 5. Enable 2FA on all service accounts
# 6. Monitor for exposed credentials with tools like GitGuardian

# ====================
# Credential Rotation Checklist
# ====================
# When rotating credentials, update:
# [ ] Supabase dashboard (API keys)
# [ ] Helius dashboard (API key & webhook secret)
# [ ] Pinata dashboard (API keys)
# [ ] Redis configuration
# [ ] Solana keypairs (create new, fund, update authority)
# [ ] Update all deployed services
# [ ] Update CI/CD environment variables
# [ ] Notify team members of rotation