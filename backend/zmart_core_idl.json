{
  "address": "B5LimwoBn4aAqFmJsV1KtrxDbtEjaZ9WeNrfDWmJc42Z",
  "metadata": {
    "name": "zmart_core",
    "version": "0.69.0",
    "spec": "0.1.0",
    "description": "ZMART Core - Prediction market trading and resolution"
  },
  "instructions": [
    {
      "name": "activate_market",
      "docs": [
        "Activate an approved market (admin or creator)",
        "",
        "Transitions a market from APPROVED → ACTIVE, enabling trading.",
        "Can be called by either admin or market creator."
      ],
      "discriminator": [
        10,
        26,
        197,
        116,
        113,
        99,
        72,
        89
      ],
      "accounts": [
        {
          "name": "authority",
          "docs": [
            "Authority (either admin or creator) activating the market"
          ],
          "writable": true,
          "signer": true
        },
        {
          "name": "market",
          "docs": [
            "Market account to activate"
          ],
          "writable": true,
          "pda": {
            "seeds": [
              {
                "kind": "const",
                "value": [
                  109,
                  97,
                  114,
                  107,
                  101,
                  116
                ]
              },
              {
                "kind": "account",
                "path": "market.market_id",
                "account": "MarketAccount"
              }
            ]
          }
        },
        {
          "name": "global_config",
          "docs": [
            "Global configuration (verify admin if authority is admin)"
          ],
          "pda": {
            "seeds": [
              {
                "kind": "const",
                "value": [
                  103,
                  108,
                  111,
                  98,
                  97,
                  108,
                  45,
                  99,
                  111,
                  110,
                  102,
                  105,
                  103
                ]
              }
            ]
          }
        }
      ],
      "args": []
    },
    {
      "name": "aggregate_dispute_votes",
      "docs": [
        "Aggregate dispute votes and check dispute threshold",
        "",
        "Backend authority aggregates votes off-chain (from VoteRecords) and submits",
        "final counts. If 60%+ agree with dispute, resolution is rejected and market",
        "returns to RESOLVING state. If <60%, original resolution stands and market",
        "transitions to FINALIZED.",
        "",
        "# Arguments",
        "",
        "* `final_agrees` - Total number of \"agree with dispute\" votes",
        "* `final_disagrees` - Total number of \"disagree with dispute\" votes",
        "",
        "# Behavior",
        "",
        "* Records vote counts in MarketAccount",
        "* Calculates agreement percentage",
        "* If >= 60% agree: transitions to RESOLVING (resolution rejected)",
        "* If < 60% agree: transitions to FINALIZED (resolution accepted)",
        "* Emits DisputeAggregated event",
        "",
        "# Errors",
        "",
        "* `ErrorCode::Unauthorized` - Caller is not backend authority",
        "* `ErrorCode::InvalidStateForVoting` - Market not in DISPUTED state",
        "* `ErrorCode::OverflowError` - Vote count overflow (extremely unlikely)"
      ],
      "discriminator": [
        74,
        14,
        30,
        19,
        212,
        141,
        112,
        25
      ],
      "accounts": [
        {
          "name": "market",
          "docs": [
            "Market account (must be in DISPUTED state)"
          ],
          "writable": true
        },
        {
          "name": "global_config",
          "docs": [
            "Global config (contains backend authority and dispute threshold)"
          ],
          "pda": {
            "seeds": [
              {
                "kind": "const",
                "value": [
                  103,
                  108,
                  111,
                  98,
                  97,
                  108,
                  45,
                  99,
                  111,
                  110,
                  102,
                  105,
                  103
                ]
              }
            ]
          }
        },
        {
          "name": "backend_authority",
          "docs": [
            "Backend authority (must match global config)"
          ],
          "signer": true
        }
      ],
      "args": [
        {
          "name": "final_agrees",
          "type": "u32"
        },
        {
          "name": "final_disagrees",
          "type": "u32"
        }
      ]
    },
    {
      "name": "aggregate_proposal_votes",
      "docs": [
        "Aggregate proposal votes and check approval threshold",
        "",
        "Backend authority aggregates votes off-chain (from VoteRecords) and submits",
        "final counts. If 70%+ likes, market transitions to APPROVED state.",
        "",
        "# Arguments",
        "",
        "* `final_likes` - Total number of like votes (from off-chain aggregation)",
        "* `final_dislikes` - Total number of dislike votes (from off-chain aggregation)",
        "",
        "# Behavior",
        "",
        "* Records vote counts in MarketAccount",
        "* Calculates approval percentage",
        "* If >= 70% likes: transitions to APPROVED state",
        "* If < 70% likes: stays in PROPOSED (can re-aggregate)",
        "* Emits ProposalAggregated event",
        "",
        "# Errors",
        "",
        "* `ErrorCode::Unauthorized` - Caller is not backend authority",
        "* `ErrorCode::InvalidStateForVoting` - Market not in PROPOSED state",
        "* `ErrorCode::OverflowError` - Vote count overflow (extremely unlikely)"
      ],
      "discriminator": [
        26,
        156,
        18,
        21,
        185,
        176,
        202,
        72
      ],
      "accounts": [
        {
          "name": "market",
          "docs": [
            "Market account (must be in PROPOSED state)"
          ],
          "writable": true
        },
        {
          "name": "global_config",
          "docs": [
            "Global config (contains backend authority)"
          ],
          "pda": {
            "seeds": [
              {
                "kind": "const",
                "value": [
                  103,
                  108,
                  111,
                  98,
                  97,
                  108,
                  45,
                  99,
                  111,
                  110,
                  102,
                  105,
                  103
                ]
              }
            ]
          }
        },
        {
          "name": "backend_authority",
          "docs": [
            "Backend authority (must match global config)"
          ],
          "signer": true
        }
      ],
      "args": [
        {
          "name": "final_likes",
          "type": "u32"
        },
        {
          "name": "final_dislikes",
          "type": "u32"
        }
      ]
    },
    {
      "name": "approve_proposal",
      "docs": [
        "Approve a market proposal (admin only)",
        "",
        "Transitions a market from PROPOSED → APPROVED after validating",
        "that proposal voting reached 70% approval threshold."
      ],
      "discriminator": [
        136,
        108,
        102,
        85,
        98,
        114,
        7,
        147
      ],
      "accounts": [
        {
          "name": "admin",
          "docs": [
            "Protocol admin with approval authority"
          ],
          "writable": true,
          "signer": true
        },
        {
          "name": "market",
          "docs": [
            "Market account to approve"
          ],
          "writable": true,
          "pda": {
            "seeds": [
              {
                "kind": "const",
                "value": [
                  109,
                  97,
                  114,
                  107,
                  101,
                  116
                ]
              },
              {
                "kind": "account",
                "path": "market.market_id",
                "account": "MarketAccount"
              }
            ]
          }
        },
        {
          "name": "global_config",
          "docs": [
            "Global configuration (verify admin and read approval threshold)"
          ],
          "pda": {
            "seeds": [
              {
                "kind": "const",
                "value": [
                  103,
                  108,
                  111,
                  98,
                  97,
                  108,
                  45,
                  99,
                  111,
                  110,
                  102,
                  105,
                  103
                ]
              }
            ]
          }
        }
      ],
      "args": []
    },
    {
      "name": "buy_shares",
      "docs": [
        "Buy YES or NO shares using LMSR",
        "",
        "Users specify a target cost and receive shares calculated by LMSR.",
        "Fees (10% total) are added on top: 3% protocol, 2% resolver, 5% LP.",
        "",
        "# Arguments",
        "",
        "* `outcome` - true for YES, false for NO",
        "* `target_cost` - Maximum willing to pay (before fees, slippage protection)"
      ],
      "discriminator": [
        40,
        239,
        138,
        154,
        8,
        37,
        106,
        108
      ],
      "accounts": [
        {
          "name": "global_config",
          "pda": {
            "seeds": [
              {
                "kind": "const",
                "value": [
                  103,
                  108,
                  111,
                  98,
                  97,
                  108,
                  45,
                  99,
                  111,
                  110,
                  102,
                  105,
                  103
                ]
              }
            ]
          }
        },
        {
          "name": "market",
          "writable": true
        },
        {
          "name": "position",
          "writable": true,
          "pda": {
            "seeds": [
              {
                "kind": "const",
                "value": [
                  112,
                  111,
                  115,
                  105,
                  116,
                  105,
                  111,
                  110
                ]
              },
              {
                "kind": "account",
                "path": "market"
              },
              {
                "kind": "account",
                "path": "user"
              }
            ]
          }
        },
        {
          "name": "user",
          "writable": true,
          "signer": true
        },
        {
          "name": "protocol_fee_wallet",
          "docs": [
            "Protocol fee wallet (validated against global_config)"
          ],
          "writable": true
        },
        {
          "name": "system_program",
          "address": "11111111111111111111111111111111"
        }
      ],
      "args": [
        {
          "name": "outcome",
          "type": "bool"
        },
        {
          "name": "target_cost",
          "type": "u64"
        }
      ]
    },
    {
      "name": "cancel_market",
      "docs": [
        "Cancel a market and transition to CANCELLED state",
        "",
        "Allows admin to cancel markets that are invalid or fraudulent.",
        "Only works for PROPOSED or APPROVED markets (cannot cancel active/resolving).",
        "Sets market to CANCELLED state. Refunds handled by separate instruction."
      ],
      "discriminator": [
        205,
        121,
        84,
        210,
        222,
        71,
        150,
        11
      ],
      "accounts": [
        {
          "name": "admin",
          "docs": [
            "Protocol admin with cancellation authority"
          ],
          "signer": true
        },
        {
          "name": "market",
          "docs": [
            "Market account to cancel"
          ],
          "writable": true,
          "pda": {
            "seeds": [
              {
                "kind": "const",
                "value": [
                  109,
                  97,
                  114,
                  107,
                  101,
                  116
                ]
              },
              {
                "kind": "account",
                "path": "market.market_id",
                "account": "MarketAccount"
              }
            ]
          }
        },
        {
          "name": "global_config",
          "docs": [
            "Global configuration (verify admin authority)"
          ],
          "pda": {
            "seeds": [
              {
                "kind": "const",
                "value": [
                  103,
                  108,
                  111,
                  98,
                  97,
                  108,
                  45,
                  99,
                  111,
                  110,
                  102,
                  105,
                  103
                ]
              }
            ]
          }
        }
      ],
      "args": []
    },
    {
      "name": "claim_winnings",
      "docs": [
        "Claim winnings after market finalized",
        "",
        "Users claim based on final outcome:",
        "- YES outcome: Only YES holders win",
        "- NO outcome: Only NO holders win",
        "- INVALID outcome: All holders refunded",
        "",
        "First claimer pays resolver their accumulated fees"
      ],
      "discriminator": [
        161,
        215,
        24,
        59,
        14,
        236,
        242,
        221
      ],
      "accounts": [
        {
          "name": "global_config",
          "pda": {
            "seeds": [
              {
                "kind": "const",
                "value": [
                  103,
                  108,
                  111,
                  98,
                  97,
                  108,
                  45,
                  99,
                  111,
                  110,
                  102,
                  105,
                  103
                ]
              }
            ]
          }
        },
        {
          "name": "market",
          "writable": true
        },
        {
          "name": "position",
          "writable": true,
          "pda": {
            "seeds": [
              {
                "kind": "const",
                "value": [
                  112,
                  111,
                  115,
                  105,
                  116,
                  105,
                  111,
                  110
                ]
              },
              {
                "kind": "account",
                "path": "market"
              },
              {
                "kind": "account",
                "path": "user"
              }
            ]
          }
        },
        {
          "name": "user",
          "writable": true,
          "signer": true,
          "relations": [
            "position"
          ]
        },
        {
          "name": "resolver",
          "docs": [
            "Resolver (receives accumulated fees if outcome valid)"
          ],
          "writable": true
        },
        {
          "name": "system_program",
          "docs": [
            "System program for CPI transfers"
          ],
          "address": "11111111111111111111111111111111"
        }
      ],
      "args": []
    },
    {
      "name": "create_market",
      "docs": [
        "Create a new prediction market in PROPOSED state",
        "",
        "Initializes a MarketAccount that must undergo proposal voting and",
        "admin approval before becoming tradeable.",
        "",
        "# Arguments",
        "",
        "* `market_id` - Unique identifier for this market (32 bytes, used in PDA seeds)",
        "* `b_parameter` - LMSR liquidity sensitivity parameter",
        "* `initial_liquidity` - Starting liquidity in lamports",
        "* `ipfs_question_hash` - IPFS CID for market question (46 bytes)"
      ],
      "discriminator": [
        103,
        226,
        97,
        235,
        200,
        188,
        251,
        254
      ],
      "accounts": [
        {
          "name": "creator",
          "docs": [
            "Market creator who pays for account creation"
          ],
          "writable": true,
          "signer": true
        },
        {
          "name": "market",
          "docs": [
            "Market account PDA (initialized in PROPOSED state)",
            "",
            "Seeds: [b\"market\", market_id.as_ref()]",
            "Space: MarketAccount::LEN (464 bytes + 8 discriminator)"
          ],
          "writable": true,
          "pda": {
            "seeds": [
              {
                "kind": "const",
                "value": [
                  109,
                  97,
                  114,
                  107,
                  101,
                  116
                ]
              },
              {
                "kind": "arg",
                "path": "market_id"
              }
            ]
          }
        },
        {
          "name": "global_config",
          "docs": [
            "Global configuration (read protocol settings)"
          ],
          "pda": {
            "seeds": [
              {
                "kind": "const",
                "value": [
                  103,
                  108,
                  111,
                  98,
                  97,
                  108,
                  45,
                  99,
                  111,
                  110,
                  102,
                  105,
                  103
                ]
              }
            ]
          }
        },
        {
          "name": "system_program",
          "docs": [
            "System program for account creation"
          ],
          "address": "11111111111111111111111111111111"
        }
      ],
      "args": [
        {
          "name": "market_id",
          "type": {
            "array": [
              "u8",
              32
            ]
          }
        },
        {
          "name": "b_parameter",
          "type": "u64"
        },
        {
          "name": "initial_liquidity",
          "type": "u64"
        },
        {
          "name": "ipfs_question_hash",
          "type": {
            "array": [
              "u8",
              46
            ]
          }
        }
      ]
    },
    {
      "name": "emergency_pause",
      "docs": [
        "Toggle protocol pause state (pause/unpause trading)",
        "",
        "Allows admin to pause all trading operations in case of critical bugs,",
        "exploits, or market instability. Calling when running pauses protocol.",
        "Calling when paused unpauses protocol. Voting and resolution continue."
      ],
      "discriminator": [
        21,
        143,
        27,
        142,
        200,
        181,
        210,
        255
      ],
      "accounts": [
        {
          "name": "admin",
          "docs": [
            "Protocol admin with pause authority"
          ],
          "signer": true
        },
        {
          "name": "global_config",
          "docs": [
            "Global configuration account to update"
          ],
          "writable": true,
          "pda": {
            "seeds": [
              {
                "kind": "const",
                "value": [
                  103,
                  108,
                  111,
                  98,
                  97,
                  108,
                  45,
                  99,
                  111,
                  110,
                  102,
                  105,
                  103
                ]
              }
            ]
          }
        }
      ],
      "args": []
    },
    {
      "name": "finalize_market",
      "docs": [
        "Set final outcome (RESOLVING/DISPUTED → FINALIZED)",
        "",
        "Backend authority finalizes market after vote aggregation.",
        "For disputed markets: if ≥60% agree to flip, flip the outcome.",
        "",
        "# Arguments",
        "",
        "* `dispute_agree` - Dispute agree votes (Some for DISPUTED, None for RESOLVING)",
        "* `dispute_disagree` - Dispute disagree votes (Some for DISPUTED, None for RESOLVING)"
      ],
      "discriminator": [
        16,
        225,
        38,
        28,
        213,
        217,
        1,
        247
      ],
      "accounts": [
        {
          "name": "global_config",
          "pda": {
            "seeds": [
              {
                "kind": "const",
                "value": [
                  103,
                  108,
                  111,
                  98,
                  97,
                  108,
                  45,
                  99,
                  111,
                  110,
                  102,
                  105,
                  103
                ]
              }
            ]
          }
        },
        {
          "name": "market",
          "writable": true
        },
        {
          "name": "backend_authority",
          "docs": [
            "Backend authority (vote aggregator)"
          ],
          "signer": true
        }
      ],
      "args": [
        {
          "name": "dispute_agree",
          "type": {
            "option": "u32"
          }
        },
        {
          "name": "dispute_disagree",
          "type": {
            "option": "u32"
          }
        }
      ]
    },
    {
      "name": "initialize_global_config",
      "docs": [
        "Initialize global protocol configuration (one-time setup)",
        "",
        "Creates the GlobalConfig PDA with default settings for fees, voting",
        "thresholds, and time limits. Can only be called once.",
        "",
        "# Arguments",
        "",
        "* `backend_authority` - Backend service authority for vote aggregation"
      ],
      "discriminator": [
        113,
        216,
        122,
        131,
        225,
        209,
        22,
        55
      ],
      "accounts": [
        {
          "name": "admin",
          "docs": [
            "Protocol administrator who pays for account creation and has full control"
          ],
          "writable": true,
          "signer": true
        },
        {
          "name": "global_config",
          "docs": [
            "Global configuration PDA (created once)",
            "",
            "Seeds: [b\"global-config\"]",
            "Space: GlobalConfig::LEN (198 bytes + 8 discriminator)"
          ],
          "writable": true,
          "pda": {
            "seeds": [
              {
                "kind": "const",
                "value": [
                  103,
                  108,
                  111,
                  98,
                  97,
                  108,
                  45,
                  99,
                  111,
                  110,
                  102,
                  105,
                  103
                ]
              }
            ]
          }
        },
        {
          "name": "protocol_fee_wallet",
          "docs": [
            "Wallet receiving protocol fees (3% of trading fees)"
          ]
        },
        {
          "name": "system_program",
          "docs": [
            "System program for account creation"
          ],
          "address": "11111111111111111111111111111111"
        }
      ],
      "args": [
        {
          "name": "backend_authority",
          "type": "pubkey"
        }
      ]
    },
    {
      "name": "initiate_dispute",
      "docs": [
        "Challenge a resolution (RESOLVING → DISPUTED)",
        "",
        "Any user can dispute proposed outcome during dispute window.",
        "Opens community voting via off-chain aggregation."
      ],
      "discriminator": [
        128,
        242,
        160,
        23,
        44,
        61,
        171,
        37
      ],
      "accounts": [
        {
          "name": "global_config",
          "pda": {
            "seeds": [
              {
                "kind": "const",
                "value": [
                  103,
                  108,
                  111,
                  98,
                  97,
                  108,
                  45,
                  99,
                  111,
                  110,
                  102,
                  105,
                  103
                ]
              }
            ]
          }
        },
        {
          "name": "market",
          "writable": true
        },
        {
          "name": "initiator",
          "docs": [
            "User initiating the dispute"
          ],
          "signer": true
        }
      ],
      "args": []
    },
    {
      "name": "resolve_market",
      "docs": [
        "Propose market resolution (ACTIVE → RESOLVING)",
        "",
        "Any user can propose resolution after market conditions met. Starts",
        "48-hour dispute window for community challenges.",
        "",
        "# Arguments",
        "",
        "* `proposed_outcome` - true for YES, false for NO",
        "* `ipfs_evidence_hash` - IPFS CID with resolution evidence (46 bytes)"
      ],
      "discriminator": [
        155,
        23,
        80,
        173,
        46,
        74,
        23,
        239
      ],
      "accounts": [
        {
          "name": "global_config",
          "pda": {
            "seeds": [
              {
                "kind": "const",
                "value": [
                  103,
                  108,
                  111,
                  98,
                  97,
                  108,
                  45,
                  99,
                  111,
                  110,
                  102,
                  105,
                  103
                ]
              }
            ]
          }
        },
        {
          "name": "market",
          "writable": true
        },
        {
          "name": "resolver",
          "docs": [
            "Resolver proposing the outcome"
          ],
          "writable": true,
          "signer": true
        }
      ],
      "args": [
        {
          "name": "proposed_outcome",
          "type": "bool"
        },
        {
          "name": "ipfs_evidence_hash",
          "type": {
            "array": [
              "u8",
              46
            ]
          }
        }
      ]
    },
    {
      "name": "sell_shares",
      "docs": [
        "Sell YES or NO shares back to the pool",
        "",
        "Users specify number of shares to sell and receive proceeds calculated",
        "by LMSR. Fees (10% total) are deducted from proceeds.",
        "",
        "# Arguments",
        "",
        "* `outcome` - true for YES, false for NO",
        "* `shares_to_sell` - Number of shares to sell",
        "* `min_proceeds` - Minimum acceptable proceeds (slippage protection)"
      ],
      "discriminator": [
        184,
        164,
        169,
        16,
        231,
        158,
        199,
        196
      ],
      "accounts": [
        {
          "name": "global_config",
          "pda": {
            "seeds": [
              {
                "kind": "const",
                "value": [
                  103,
                  108,
                  111,
                  98,
                  97,
                  108,
                  45,
                  99,
                  111,
                  110,
                  102,
                  105,
                  103
                ]
              }
            ]
          }
        },
        {
          "name": "market",
          "writable": true
        },
        {
          "name": "position",
          "writable": true,
          "pda": {
            "seeds": [
              {
                "kind": "const",
                "value": [
                  112,
                  111,
                  115,
                  105,
                  116,
                  105,
                  111,
                  110
                ]
              },
              {
                "kind": "account",
                "path": "market"
              },
              {
                "kind": "account",
                "path": "user"
              }
            ]
          }
        },
        {
          "name": "user",
          "writable": true,
          "signer": true,
          "relations": [
            "position"
          ]
        },
        {
          "name": "protocol_fee_wallet",
          "docs": [
            "Protocol fee wallet"
          ],
          "writable": true
        },
        {
          "name": "system_program",
          "docs": [
            "System program for CPI transfers"
          ],
          "address": "11111111111111111111111111111111"
        }
      ],
      "args": [
        {
          "name": "outcome",
          "type": "bool"
        },
        {
          "name": "shares_to_sell",
          "type": "u64"
        },
        {
          "name": "min_proceeds",
          "type": "u64"
        }
      ]
    },
    {
      "name": "submit_dispute_vote",
      "docs": [
        "Submit a vote on a market dispute (agree/disagree)",
        "",
        "Creates an on-chain VoteRecord for proof and duplicate prevention.",
        "Votes are aggregated off-chain by the backend. When dispute voting",
        "concludes, backend calls aggregate_dispute_votes.",
        "",
        "# Arguments",
        "",
        "* `vote` - true for \"agree with dispute\" (resolution is wrong),",
        "false for \"disagree with dispute\" (resolution is correct)",
        "",
        "# Errors",
        "",
        "* `ErrorCode::InvalidStateForVoting` - Market not in DISPUTED state",
        "* `ErrorCode::AlreadyVoted` - User already voted (PDA init fails)"
      ],
      "discriminator": [
        49,
        223,
        61,
        66,
        152,
        235,
        72,
        230
      ],
      "accounts": [
        {
          "name": "market",
          "docs": [
            "Market being voted on (must be in DISPUTED state)"
          ]
        },
        {
          "name": "vote_record",
          "docs": [
            "Vote record to create (PDA prevents duplicate votes)",
            "",
            "The `init` constraint will fail if this account already exists,",
            "which happens when a user tries to vote twice on the same dispute.",
            "This provides automatic duplicate vote prevention at the protocol level."
          ],
          "writable": true
        },
        {
          "name": "user",
          "docs": [
            "User submitting the vote (pays for account creation)"
          ],
          "writable": true,
          "signer": true
        },
        {
          "name": "system_program",
          "docs": [
            "System program for account creation"
          ],
          "address": "11111111111111111111111111111111"
        }
      ],
      "args": [
        {
          "name": "vote",
          "type": "bool"
        }
      ]
    },
    {
      "name": "submit_proposal_vote",
      "docs": [
        "Submit a vote on a market proposal (like/dislike)",
        "",
        "Creates an on-chain VoteRecord for proof and duplicate prevention.",
        "Votes are aggregated off-chain by the backend. When 70% approval",
        "threshold is reached, backend calls approve_proposal.",
        "",
        "# Arguments",
        "",
        "* `vote` - true for \"like\" (support), false for \"dislike\" (oppose)",
        "",
        "# Errors",
        "",
        "* `ErrorCode::InvalidStateForVoting` - Market not in PROPOSED state",
        "* `ErrorCode::AlreadyVoted` - User already voted (PDA init fails)"
      ],
      "discriminator": [
        177,
        187,
        59,
        230,
        29,
        185,
        14,
        240
      ],
      "accounts": [
        {
          "name": "market",
          "docs": [
            "Market being voted on (must be in PROPOSED state)"
          ]
        },
        {
          "name": "vote_record",
          "docs": [
            "Vote record to create (PDA prevents duplicate votes)",
            "",
            "The `init` constraint will fail if this account already exists,",
            "which happens when a user tries to vote twice on the same proposal.",
            "This provides automatic duplicate vote prevention at the protocol level."
          ],
          "writable": true
        },
        {
          "name": "user",
          "docs": [
            "User submitting the vote (pays for account creation)"
          ],
          "writable": true,
          "signer": true
        },
        {
          "name": "system_program",
          "docs": [
            "System program for account creation"
          ],
          "address": "11111111111111111111111111111111"
        }
      ],
      "args": [
        {
          "name": "vote",
          "type": "bool"
        }
      ]
    },
    {
      "name": "update_global_config",
      "docs": [
        "Update global protocol configuration parameters",
        "",
        "Allows admin to modify fee percentages, voting thresholds, and other",
        "configuration parameters without redeploying the program.",
        "",
        "# Arguments",
        "",
        "* `protocol_fee_bps` - Protocol fee in basis points (0-10000)",
        "* `resolver_reward_bps` - Resolver reward in basis points (0-10000)",
        "* `liquidity_provider_fee_bps` - LP fee in basis points (0-10000)",
        "* `proposal_approval_threshold` - Proposal approval threshold (0-10000)",
        "* `dispute_success_threshold` - Dispute success threshold (0-10000)"
      ],
      "discriminator": [
        164,
        84,
        130,
        189,
        111,
        58,
        250,
        200
      ],
      "accounts": [
        {
          "name": "admin",
          "docs": [
            "Protocol admin with configuration authority"
          ],
          "signer": true
        },
        {
          "name": "global_config",
          "docs": [
            "Global configuration account to update"
          ],
          "writable": true,
          "pda": {
            "seeds": [
              {
                "kind": "const",
                "value": [
                  103,
                  108,
                  111,
                  98,
                  97,
                  108,
                  45,
                  99,
                  111,
                  110,
                  102,
                  105,
                  103
                ]
              }
            ]
          }
        }
      ],
      "args": [
        {
          "name": "protocol_fee_bps",
          "type": "u16"
        },
        {
          "name": "resolver_reward_bps",
          "type": "u16"
        },
        {
          "name": "liquidity_provider_fee_bps",
          "type": "u16"
        },
        {
          "name": "proposal_approval_threshold",
          "type": "u16"
        },
        {
          "name": "dispute_success_threshold",
          "type": "u16"
        }
      ]
    },
    {
      "name": "withdraw_liquidity",
      "docs": [
        "Withdraw remaining liquidity after market finalized",
        "",
        "Creator withdraws remaining pool funds + LP fees while",
        "preserving rent reserve."
      ],
      "discriminator": [
        149,
        158,
        33,
        185,
        47,
        243,
        253,
        31
      ],
      "accounts": [
        {
          "name": "market",
          "writable": true
        },
        {
          "name": "creator",
          "writable": true,
          "signer": true,
          "relations": [
            "market"
          ]
        }
      ],
      "args": []
    }
  ],
  "accounts": [
    {
      "name": "GlobalConfig",
      "discriminator": [
        149,
        8,
        156,
        202,
        160,
        252,
        176,
        217
      ]
    },
    {
      "name": "MarketAccount",
      "discriminator": [
        201,
        78,
        187,
        225,
        240,
        198,
        201,
        251
      ]
    },
    {
      "name": "UserPosition",
      "discriminator": [
        251,
        248,
        209,
        245,
        83,
        234,
        17,
        27
      ]
    },
    {
      "name": "VoteRecord",
      "discriminator": [
        112,
        9,
        123,
        165,
        234,
        9,
        157,
        167
      ]
    }
  ],
  "events": [
    {
      "name": "ConfigUpdated",
      "discriminator": [
        40,
        241,
        230,
        122,
        11,
        19,
        198,
        194
      ]
    },
    {
      "name": "DisputeAggregated",
      "discriminator": [
        58,
        17,
        210,
        160,
        75,
        36,
        105,
        38
      ]
    },
    {
      "name": "DisputeInitiated",
      "discriminator": [
        150,
        109,
        93,
        252,
        198,
        4,
        183,
        153
      ]
    },
    {
      "name": "DisputeVoteSubmitted",
      "discriminator": [
        39,
        2,
        213,
        195,
        78,
        10,
        193,
        114
      ]
    },
    {
      "name": "GlobalConfigInitialized",
      "discriminator": [
        5,
        221,
        172,
        158,
        77,
        87,
        157,
        113
      ]
    },
    {
      "name": "LiquidityWithdrawn",
      "discriminator": [
        240,
        120,
        73,
        139,
        154,
        31,
        218,
        68
      ]
    },
    {
      "name": "MarketActivated",
      "discriminator": [
        196,
        73,
        78,
        48,
        187,
        132,
        107,
        11
      ]
    },
    {
      "name": "MarketCancelled",
      "discriminator": [
        139,
        163,
        33,
        168,
        19,
        180,
        81,
        170
      ]
    },
    {
      "name": "MarketCreated",
      "discriminator": [
        88,
        184,
        130,
        231,
        226,
        84,
        6,
        58
      ]
    },
    {
      "name": "MarketFinalized",
      "discriminator": [
        83,
        62,
        66,
        204,
        37,
        76,
        234,
        179
      ]
    },
    {
      "name": "MarketResolved",
      "discriminator": [
        89,
        67,
        230,
        95,
        143,
        106,
        199,
        202
      ]
    },
    {
      "name": "ProposalAggregated",
      "discriminator": [
        234,
        166,
        71,
        118,
        60,
        243,
        139,
        213
      ]
    },
    {
      "name": "ProposalApproved",
      "discriminator": [
        70,
        49,
        155,
        228,
        157,
        43,
        88,
        49
      ]
    },
    {
      "name": "ProposalVoteSubmitted",
      "discriminator": [
        156,
        67,
        143,
        2,
        217,
        162,
        6,
        56
      ]
    },
    {
      "name": "ProtocolPauseStatusChanged",
      "discriminator": [
        189,
        150,
        216,
        1,
        103,
        35,
        49,
        103
      ]
    },
    {
      "name": "SharesBought",
      "discriminator": [
        240,
        98,
        69,
        10,
        253,
        234,
        226,
        65
      ]
    },
    {
      "name": "SharesSold",
      "discriminator": [
        35,
        231,
        5,
        53,
        228,
        158,
        113,
        251
      ]
    },
    {
      "name": "WinningsClaimed",
      "discriminator": [
        187,
        184,
        29,
        196,
        54,
        117,
        70,
        150
      ]
    }
  ],
  "errors": [
    {
      "code": 6000,
      "name": "InvalidFeeConfiguration",
      "msg": "Invalid fee configuration: total fees exceed 100%"
    },
    {
      "code": 6001,
      "name": "InvalidThreshold",
      "msg": "Invalid threshold: must be ≤ 10000 (100%)"
    },
    {
      "code": 6002,
      "name": "InvalidTimeLimit",
      "msg": "Invalid time limit: must be positive"
    },
    {
      "code": 6003,
      "name": "AlreadyInitialized",
      "msg": "Global config already initialized"
    },
    {
      "code": 6004,
      "name": "InvalidFeeStructure",
      "msg": "Invalid fee structure: total fees exceed 100%"
    },
    {
      "code": 6005,
      "name": "InvalidStateTransition",
      "msg": "Invalid state transition"
    },
    {
      "code": 6006,
      "name": "InvalidMarketState",
      "msg": "Market not in required state"
    },
    {
      "code": 6007,
      "name": "MarketPaused",
      "msg": "Market is paused"
    },
    {
      "code": 6008,
      "name": "MarketCancelled",
      "msg": "Market is cancelled"
    },
    {
      "code": 6009,
      "name": "ProtocolPaused",
      "msg": "Protocol is paused"
    },
    {
      "code": 6010,
      "name": "CannotCancelMarket",
      "msg": "Cannot cancel market in current state"
    },
    {
      "code": 6011,
      "name": "MarketAlreadyCancelled",
      "msg": "Market is already cancelled"
    },
    {
      "code": 6012,
      "name": "ZeroAmount",
      "msg": "Trading amount must be greater than zero"
    },
    {
      "code": 6013,
      "name": "InsufficientShares",
      "msg": "Insufficient shares to sell"
    },
    {
      "code": 6014,
      "name": "SlippageExceeded",
      "msg": "Slippage tolerance exceeded"
    },
    {
      "code": 6015,
      "name": "InsufficientLiquidity",
      "msg": "Insufficient liquidity"
    },
    {
      "code": 6016,
      "name": "InvalidLiquidity",
      "msg": "Invalid liquidity amount"
    },
    {
      "code": 6017,
      "name": "TradeTooSmall",
      "msg": "Trade amount below minimum (0.00001 SOL)"
    },
    {
      "code": 6018,
      "name": "ResolutionPeriodNotEnded",
      "msg": "Resolution period not ended"
    },
    {
      "code": 6019,
      "name": "DisputePeriodEnded",
      "msg": "Dispute period ended"
    },
    {
      "code": 6020,
      "name": "NoResolutionProposed",
      "msg": "No resolution proposed"
    },
    {
      "code": 6021,
      "name": "AlreadyClaimed",
      "msg": "Winnings already claimed"
    },
    {
      "code": 6022,
      "name": "NoWinnings",
      "msg": "No winnings to claim"
    },
    {
      "code": 6023,
      "name": "NoVotesRecorded",
      "msg": "No votes recorded"
    },
    {
      "code": 6024,
      "name": "InsufficientVotes",
      "msg": "Insufficient votes to meet threshold"
    },
    {
      "code": 6025,
      "name": "AlreadyResolved",
      "msg": "Market already resolved"
    },
    {
      "code": 6026,
      "name": "DisputePeriodNotEnded",
      "msg": "Dispute period not ended"
    },
    {
      "code": 6027,
      "name": "AlreadyDisputed",
      "msg": "Already disputed"
    },
    {
      "code": 6028,
      "name": "Unauthorized",
      "msg": "Unauthorized"
    },
    {
      "code": 6029,
      "name": "InvalidAdmin",
      "msg": "Invalid admin"
    },
    {
      "code": 6030,
      "name": "InvalidResolver",
      "msg": "Invalid resolver"
    },
    {
      "code": 6031,
      "name": "InsufficientReputation",
      "msg": "Insufficient reputation"
    },
    {
      "code": 6032,
      "name": "OverflowError",
      "msg": "Arithmetic overflow"
    },
    {
      "code": 6033,
      "name": "UnderflowError",
      "msg": "Arithmetic underflow"
    },
    {
      "code": 6034,
      "name": "DivisionByZero",
      "msg": "Division by zero"
    },
    {
      "code": 6035,
      "name": "InvalidFixedPoint",
      "msg": "Invalid fixed-point value"
    },
    {
      "code": 6036,
      "name": "InvalidLogarithm",
      "msg": "Logarithm of non-positive number"
    },
    {
      "code": 6037,
      "name": "ExponentialOverflow",
      "msg": "Exponential overflow"
    },
    {
      "code": 6038,
      "name": "ExponentTooLarge",
      "msg": "Exponent too large"
    },
    {
      "code": 6039,
      "name": "InvalidInput",
      "msg": "Invalid input value"
    },
    {
      "code": 6040,
      "name": "BoundedLossExceeded",
      "msg": "Market loss exceeds theoretical maximum of b * ln(2)"
    },
    {
      "code": 6041,
      "name": "InvalidBParameter",
      "msg": "Invalid LMSR b parameter"
    },
    {
      "code": 6042,
      "name": "InvalidMarketId",
      "msg": "Invalid market ID"
    },
    {
      "code": 6043,
      "name": "InvalidTimestamp",
      "msg": "Invalid timestamp"
    },
    {
      "code": 6044,
      "name": "InvalidIpfsHash",
      "msg": "Invalid IPFS hash"
    },
    {
      "code": 6045,
      "name": "InsufficientFunds",
      "msg": "Insufficient funds"
    },
    {
      "code": 6046,
      "name": "WouldBreakRentExemption",
      "msg": "Transfer would leave account below rent-exempt minimum"
    },
    {
      "code": 6047,
      "name": "Reentrant",
      "msg": "Reentrancy detected - operation already in progress"
    },
    {
      "code": 6048,
      "name": "InvalidReservedField",
      "msg": "Reserved fields must be zero"
    },
    {
      "code": 6049,
      "name": "AlreadyVoted",
      "msg": "User already voted"
    },
    {
      "code": 6050,
      "name": "InvalidStateForVoting",
      "msg": "Invalid state for voting"
    }
  ],
  "types": [
    {
      "name": "ConfigUpdated",
      "docs": [
        "Event emitted when configuration is updated"
      ],
      "type": {
        "kind": "struct",
        "fields": [
          {
            "name": "protocol_fee_bps",
            "type": "u16"
          },
          {
            "name": "resolver_reward_bps",
            "type": "u16"
          },
          {
            "name": "liquidity_provider_fee_bps",
            "type": "u16"
          },
          {
            "name": "proposal_approval_threshold",
            "type": "u16"
          },
          {
            "name": "dispute_success_threshold",
            "type": "u16"
          },
          {
            "name": "timestamp",
            "type": "i64"
          }
        ]
      }
    },
    {
      "name": "DisputeAggregated",
      "docs": [
        "Dispute votes aggregated and resolution decision made"
      ],
      "type": {
        "kind": "struct",
        "fields": [
          {
            "name": "market_id",
            "type": {
              "array": [
                "u8",
                32
              ]
            }
          },
          {
            "name": "agrees",
            "type": "u32"
          },
          {
            "name": "disagrees",
            "type": "u32"
          },
          {
            "name": "agreement_percentage",
            "type": "u8"
          },
          {
            "name": "dispute_succeeded",
            "type": "bool"
          },
          {
            "name": "timestamp",
            "type": "i64"
          }
        ]
      }
    },
    {
      "name": "DisputeInitiated",
      "type": {
        "kind": "struct",
        "fields": [
          {
            "name": "market_id",
            "type": {
              "array": [
                "u8",
                32
              ]
            }
          },
          {
            "name": "initiator",
            "type": "pubkey"
          },
          {
            "name": "disputed_outcome",
            "type": {
              "option": "bool"
            }
          },
          {
            "name": "timestamp",
            "type": "i64"
          }
        ]
      }
    },
    {
      "name": "DisputeVoteSubmitted",
      "docs": [
        "Event emitted when a dispute vote is submitted",
        "",
        "The backend listens for these events and aggregates votes off-chain.",
        "When aggregation is complete, the backend calls aggregate_dispute_votes",
        "to determine if the dispute threshold is met."
      ],
      "type": {
        "kind": "struct",
        "fields": [
          {
            "name": "market_id",
            "docs": [
              "Market ID (not pubkey, the actual market_id bytes)"
            ],
            "type": {
              "array": [
                "u8",
                32
              ]
            }
          },
          {
            "name": "user",
            "docs": [
              "User who voted"
            ],
            "type": "pubkey"
          },
          {
            "name": "vote",
            "docs": [
              "Vote choice (true = agree with dispute, false = disagree)"
            ],
            "type": "bool"
          },
          {
            "name": "timestamp",
            "docs": [
              "Timestamp when vote was cast"
            ],
            "type": "i64"
          }
        ]
      }
    },
    {
      "name": "GlobalConfig",
      "docs": [
        "Global configuration for the ZMART protocol",
        "",
        "This account stores protocol-wide settings including fee percentages,",
        "voting thresholds, time limits, and admin controls.",
        "",
        "PDA Seeds: [\"global_config\"]",
        "Size: 198 bytes (8 discriminator + 190 data)"
      ],
      "type": {
        "kind": "struct",
        "fields": [
          {
            "name": "admin",
            "docs": [
              "Protocol admin (can update parameters)"
            ],
            "type": "pubkey"
          },
          {
            "name": "backend_authority",
            "docs": [
              "Backend authority (can aggregate votes, trigger auto-resolution)"
            ],
            "type": "pubkey"
          },
          {
            "name": "protocol_fee_wallet",
            "docs": [
              "Protocol fee wallet (receives 3% trading fees by default)"
            ],
            "type": "pubkey"
          },
          {
            "name": "protocol_fee_bps",
            "docs": [
              "Fee percentages in basis points (100 = 1%, 10000 = 100%)",
              "Default: 300 (3%)"
            ],
            "type": "u16"
          },
          {
            "name": "resolver_reward_bps",
            "docs": [
              "Resolver reward in basis points",
              "Default: 200 (2%)"
            ],
            "type": "u16"
          },
          {
            "name": "liquidity_provider_fee_bps",
            "docs": [
              "Liquidity provider fee in basis points",
              "Default: 500 (5%)"
            ],
            "type": "u16"
          },
          {
            "name": "proposal_approval_threshold",
            "docs": [
              "Proposal approval threshold in basis points",
              "Default: 7000 (70%)"
            ],
            "type": "u16"
          },
          {
            "name": "dispute_success_threshold",
            "docs": [
              "Dispute success threshold in basis points",
              "Default: 6000 (60%)"
            ],
            "type": "u16"
          },
          {
            "name": "min_resolution_delay",
            "docs": [
              "Minimum delay before resolution can be finalized (in seconds)",
              "Default: 86400 (24 hours)"
            ],
            "type": "i64"
          },
          {
            "name": "dispute_period",
            "docs": [
              "Dispute period duration (in seconds)",
              "Default: 259200 (3 days)"
            ],
            "type": "i64"
          },
          {
            "name": "min_resolver_reputation",
            "docs": [
              "Minimum reputation score required to be a resolver (in basis points)",
              "Default: 8000 (80%)"
            ],
            "type": "u16"
          },
          {
            "name": "is_paused",
            "docs": [
              "Emergency pause flag (stops all trading and state transitions)"
            ],
            "type": "bool"
          },
          {
            "name": "reserved",
            "docs": [
              "Reserved space for future upgrades (64 bytes)"
            ],
            "type": {
              "array": [
                "u8",
                64
              ]
            }
          },
          {
            "name": "bump",
            "docs": [
              "Bump seed for PDA derivation"
            ],
            "type": "u8"
          }
        ]
      }
    },
    {
      "name": "GlobalConfigInitialized",
      "type": {
        "kind": "struct",
        "fields": [
          {
            "name": "admin",
            "type": "pubkey"
          },
          {
            "name": "backend_authority",
            "type": "pubkey"
          },
          {
            "name": "protocol_fee_bps",
            "type": "u16"
          },
          {
            "name": "timestamp",
            "type": "i64"
          }
        ]
      }
    },
    {
      "name": "LiquidityWithdrawn",
      "type": {
        "kind": "struct",
        "fields": [
          {
            "name": "market_id",
            "type": {
              "array": [
                "u8",
                32
              ]
            }
          },
          {
            "name": "creator",
            "type": "pubkey"
          },
          {
            "name": "amount",
            "type": "u64"
          },
          {
            "name": "timestamp",
            "type": "i64"
          }
        ]
      }
    },
    {
      "name": "MarketAccount",
      "docs": [
        "Individual prediction market account",
        "",
        "This account stores all market state including LMSR parameters,",
        "share quantities, resolution data, and fee accumulation.",
        "",
        "PDA Seeds: [\"market\", market_id]",
        "Size: 421 bytes (8 discriminator + 413 data)"
      ],
      "type": {
        "kind": "struct",
        "fields": [
          {
            "name": "market_id",
            "docs": [
              "Unique market identifier (32-byte UUID from off-chain)"
            ],
            "type": {
              "array": [
                "u8",
                32
              ]
            }
          },
          {
            "name": "creator",
            "docs": [
              "Market creator (receives creator rewards)"
            ],
            "type": "pubkey"
          },
          {
            "name": "state",
            "docs": [
              "Current market state (see MarketState enum)"
            ],
            "type": {
              "defined": {
                "name": "MarketState"
              }
            }
          },
          {
            "name": "b_parameter",
            "docs": [
              "LMSR liquidity depth parameter (fixed-point, 9 decimals)",
              "Controls price sensitivity: larger b = less sensitive"
            ],
            "type": "u64"
          },
          {
            "name": "initial_liquidity",
            "docs": [
              "Initial liquidity provided at market creation (in lamports)"
            ],
            "type": "u64"
          },
          {
            "name": "current_liquidity",
            "docs": [
              "Current liquidity in the pool (in lamports)"
            ],
            "type": "u64"
          },
          {
            "name": "shares_yes",
            "docs": [
              "Share quantities (fixed-point, 9 decimals)",
              "YES shares outstanding"
            ],
            "type": "u64"
          },
          {
            "name": "shares_no",
            "docs": [
              "NO shares outstanding"
            ],
            "type": "u64"
          },
          {
            "name": "total_volume",
            "docs": [
              "Cumulative trading volume (in lamports)"
            ],
            "type": "u64"
          },
          {
            "name": "created_at",
            "docs": [
              "Market creation timestamp"
            ],
            "type": "i64"
          },
          {
            "name": "approved_at",
            "docs": [
              "Proposal approval timestamp"
            ],
            "type": "i64"
          },
          {
            "name": "activated_at",
            "docs": [
              "Market activation timestamp (trading enabled)"
            ],
            "type": "i64"
          },
          {
            "name": "resolution_proposed_at",
            "docs": [
              "Resolution proposal timestamp"
            ],
            "type": "i64"
          },
          {
            "name": "resolved_at",
            "docs": [
              "Market resolution timestamp (deprecated, use finalized_at)"
            ],
            "type": "i64"
          },
          {
            "name": "finalized_at",
            "docs": [
              "Market finalization timestamp (final outcome set)"
            ],
            "type": "i64"
          },
          {
            "name": "resolver",
            "docs": [
              "Resolver's wallet address"
            ],
            "type": "pubkey"
          },
          {
            "name": "proposed_outcome",
            "docs": [
              "Proposed outcome (Some(true)=YES, Some(false)=NO, None=INVALID)"
            ],
            "type": {
              "option": "bool"
            }
          },
          {
            "name": "final_outcome",
            "docs": [
              "Final outcome after dispute period"
            ],
            "type": {
              "option": "bool"
            }
          },
          {
            "name": "ipfs_evidence_hash",
            "docs": [
              "IPFS hash of resolution evidence (46 bytes for CIDv0: Qm...)"
            ],
            "type": {
              "array": [
                "u8",
                46
              ]
            }
          },
          {
            "name": "dispute_initiated_at",
            "docs": [
              "Dispute initiation timestamp"
            ],
            "type": "i64"
          },
          {
            "name": "dispute_initiator",
            "docs": [
              "User who initiated the dispute"
            ],
            "type": "pubkey"
          },
          {
            "name": "accumulated_protocol_fees",
            "docs": [
              "Protocol fees accumulated (3% default)"
            ],
            "type": "u64"
          },
          {
            "name": "accumulated_resolver_fees",
            "docs": [
              "Resolver rewards accumulated (2% default)"
            ],
            "type": "u64"
          },
          {
            "name": "accumulated_lp_fees",
            "docs": [
              "Liquidity provider fees accumulated (5% default)"
            ],
            "type": "u64"
          },
          {
            "name": "proposal_likes",
            "docs": [
              "Number of \"like\" votes for proposal"
            ],
            "type": "u32"
          },
          {
            "name": "proposal_dislikes",
            "docs": [
              "Number of \"dislike\" votes for proposal"
            ],
            "type": "u32"
          },
          {
            "name": "proposal_total_votes",
            "docs": [
              "Total proposal votes cast"
            ],
            "type": "u32"
          },
          {
            "name": "resolution_agree",
            "docs": [
              "Number of \"agree with resolution\" votes"
            ],
            "type": "u32"
          },
          {
            "name": "resolution_disagree",
            "docs": [
              "Number of \"disagree with resolution\" votes"
            ],
            "type": "u32"
          },
          {
            "name": "resolution_total_votes",
            "docs": [
              "Total resolution votes cast"
            ],
            "type": "u32"
          },
          {
            "name": "dispute_agree",
            "docs": [
              "Number of \"agree with dispute\" votes"
            ],
            "type": "u32"
          },
          {
            "name": "dispute_disagree",
            "docs": [
              "Number of \"disagree with dispute\" votes"
            ],
            "type": "u32"
          },
          {
            "name": "dispute_total_votes",
            "docs": [
              "Total dispute votes cast"
            ],
            "type": "u32"
          },
          {
            "name": "was_disputed",
            "docs": [
              "Flag indicating if market was disputed"
            ],
            "type": "bool"
          },
          {
            "name": "is_cancelled",
            "docs": [
              "Market cancellation flag (admin only)"
            ],
            "type": "bool"
          },
          {
            "name": "cancelled_at",
            "docs": [
              "Market cancellation timestamp (if cancelled by admin)"
            ],
            "type": {
              "option": "i64"
            }
          },
          {
            "name": "is_locked",
            "docs": [
              "Reentrancy guard (SECURITY: Finding #8)",
              "Set to true during sensitive operations to prevent concurrent access",
              "Prevents reentrancy attacks during lamport transfers"
            ],
            "type": "bool"
          },
          {
            "name": "reserved",
            "docs": [
              "Reserved space for future upgrades (119 bytes, reduced by 1 for is_locked)"
            ],
            "type": {
              "array": [
                "u8",
                119
              ]
            }
          },
          {
            "name": "bump",
            "docs": [
              "Bump seed for PDA derivation"
            ],
            "type": "u8"
          }
        ]
      }
    },
    {
      "name": "MarketActivated",
      "type": {
        "kind": "struct",
        "fields": [
          {
            "name": "market_id",
            "type": {
              "array": [
                "u8",
                32
              ]
            }
          },
          {
            "name": "creator",
            "type": "pubkey"
          },
          {
            "name": "initial_liquidity",
            "type": "u64"
          },
          {
            "name": "timestamp",
            "type": "i64"
          }
        ]
      }
    },
    {
      "name": "MarketCancelled",
      "docs": [
        "Event emitted when a market is cancelled"
      ],
      "type": {
        "kind": "struct",
        "fields": [
          {
            "name": "market_id",
            "type": {
              "array": [
                "u8",
                32
              ]
            }
          },
          {
            "name": "cancelled_by",
            "type": "pubkey"
          },
          {
            "name": "cancelled_at",
            "type": "i64"
          }
        ]
      }
    },
    {
      "name": "MarketCreated",
      "type": {
        "kind": "struct",
        "fields": [
          {
            "name": "market_id",
            "type": {
              "array": [
                "u8",
                32
              ]
            }
          },
          {
            "name": "creator",
            "type": "pubkey"
          },
          {
            "name": "b_parameter",
            "type": "u64"
          },
          {
            "name": "state",
            "type": "u8"
          },
          {
            "name": "timestamp",
            "type": "i64"
          }
        ]
      }
    },
    {
      "name": "MarketFinalized",
      "type": {
        "kind": "struct",
        "fields": [
          {
            "name": "market_id",
            "type": {
              "array": [
                "u8",
                32
              ]
            }
          },
          {
            "name": "final_outcome",
            "type": {
              "option": "bool"
            }
          },
          {
            "name": "was_disputed",
            "type": "bool"
          },
          {
            "name": "timestamp",
            "type": "i64"
          }
        ]
      }
    },
    {
      "name": "MarketResolved",
      "type": {
        "kind": "struct",
        "fields": [
          {
            "name": "market_id",
            "type": {
              "array": [
                "u8",
                32
              ]
            }
          },
          {
            "name": "resolver",
            "type": "pubkey"
          },
          {
            "name": "outcome",
            "type": "bool"
          },
          {
            "name": "evidence_hash",
            "type": {
              "array": [
                "u8",
                46
              ]
            }
          },
          {
            "name": "timestamp",
            "type": "i64"
          }
        ]
      }
    },
    {
      "name": "MarketState",
      "docs": [
        "Market lifecycle states (7-state FSM)",
        "",
        "State transitions:",
        "PROPOSED → APPROVED → ACTIVE → RESOLVING → DISPUTED → FINALIZED",
        "→ (skip DISPUTED) → FINALIZED",
        "PROPOSED → CANCELLED (admin only)",
        "APPROVED → CANCELLED (admin only)"
      ],
      "repr": {
        "kind": "rust"
      },
      "type": {
        "kind": "enum",
        "variants": [
          {
            "name": "Proposed"
          },
          {
            "name": "Approved"
          },
          {
            "name": "Active"
          },
          {
            "name": "Resolving"
          },
          {
            "name": "Disputed"
          },
          {
            "name": "Finalized"
          },
          {
            "name": "Cancelled"
          }
        ]
      }
    },
    {
      "name": "ProposalAggregated",
      "docs": [
        "Proposal votes aggregated and approval decision made"
      ],
      "type": {
        "kind": "struct",
        "fields": [
          {
            "name": "market_id",
            "type": {
              "array": [
                "u8",
                32
              ]
            }
          },
          {
            "name": "likes",
            "type": "u32"
          },
          {
            "name": "dislikes",
            "type": "u32"
          },
          {
            "name": "approval_percentage",
            "type": "u8"
          },
          {
            "name": "approved",
            "type": "bool"
          },
          {
            "name": "timestamp",
            "type": "i64"
          }
        ]
      }
    },
    {
      "name": "ProposalApproved",
      "type": {
        "kind": "struct",
        "fields": [
          {
            "name": "market_id",
            "type": {
              "array": [
                "u8",
                32
              ]
            }
          },
          {
            "name": "approved_by",
            "type": "pubkey"
          },
          {
            "name": "timestamp",
            "type": "i64"
          }
        ]
      }
    },
    {
      "name": "ProposalVoteSubmitted",
      "docs": [
        "Event emitted when a proposal vote is submitted",
        "",
        "The backend listens for these events and aggregates votes off-chain.",
        "When the 70% approval threshold is reached, the backend calls",
        "approve_proposal to transition the market to APPROVED state."
      ],
      "type": {
        "kind": "struct",
        "fields": [
          {
            "name": "market_id",
            "docs": [
              "Market ID (not pubkey, the actual market_id bytes)"
            ],
            "type": {
              "array": [
                "u8",
                32
              ]
            }
          },
          {
            "name": "user",
            "docs": [
              "User who voted"
            ],
            "type": "pubkey"
          },
          {
            "name": "vote",
            "docs": [
              "Vote choice (true = like, false = dislike)"
            ],
            "type": "bool"
          },
          {
            "name": "timestamp",
            "docs": [
              "Timestamp when vote was cast"
            ],
            "type": "i64"
          }
        ]
      }
    },
    {
      "name": "ProtocolPauseStatusChanged",
      "docs": [
        "Event emitted when protocol pause status changes"
      ],
      "type": {
        "kind": "struct",
        "fields": [
          {
            "name": "is_paused",
            "type": "bool"
          },
          {
            "name": "paused_by",
            "type": "pubkey"
          },
          {
            "name": "timestamp",
            "type": "i64"
          }
        ]
      }
    },
    {
      "name": "SharesBought",
      "type": {
        "kind": "struct",
        "fields": [
          {
            "name": "market_id",
            "type": {
              "array": [
                "u8",
                32
              ]
            }
          },
          {
            "name": "user",
            "type": "pubkey"
          },
          {
            "name": "outcome",
            "type": "bool"
          },
          {
            "name": "shares",
            "type": "u64"
          },
          {
            "name": "cost",
            "type": "u64"
          },
          {
            "name": "new_price_yes",
            "type": "u64"
          },
          {
            "name": "timestamp",
            "type": "i64"
          }
        ]
      }
    },
    {
      "name": "SharesSold",
      "type": {
        "kind": "struct",
        "fields": [
          {
            "name": "market_id",
            "type": {
              "array": [
                "u8",
                32
              ]
            }
          },
          {
            "name": "user",
            "type": "pubkey"
          },
          {
            "name": "outcome",
            "type": "bool"
          },
          {
            "name": "shares",
            "type": "u64"
          },
          {
            "name": "proceeds",
            "type": "u64"
          },
          {
            "name": "new_price_yes",
            "type": "u64"
          },
          {
            "name": "timestamp",
            "type": "i64"
          }
        ]
      }
    },
    {
      "name": "UserPosition",
      "docs": [
        "User's position in a specific market",
        "",
        "This account tracks a user's share holdings, cost basis,",
        "and claiming status for a single market.",
        "",
        "PDA Seeds: [\"position\", market.key(), user.key()]",
        "Size: 174 bytes (8 discriminator + 166 data)"
      ],
      "type": {
        "kind": "struct",
        "fields": [
          {
            "name": "market",
            "docs": [
              "Market this position belongs to"
            ],
            "type": "pubkey"
          },
          {
            "name": "user",
            "docs": [
              "User's wallet address"
            ],
            "type": "pubkey"
          },
          {
            "name": "shares_yes",
            "docs": [
              "YES shares held (fixed-point, 9 decimals)"
            ],
            "type": "u64"
          },
          {
            "name": "shares_no",
            "docs": [
              "NO shares held (fixed-point, 9 decimals)"
            ],
            "type": "u64"
          },
          {
            "name": "total_invested",
            "docs": [
              "Total amount invested (cost basis for tax tracking, in lamports)"
            ],
            "type": "u64"
          },
          {
            "name": "trades_count",
            "docs": [
              "Number of trades executed"
            ],
            "type": "u32"
          },
          {
            "name": "last_trade_at",
            "docs": [
              "Timestamp of last trade"
            ],
            "type": "i64"
          },
          {
            "name": "has_claimed",
            "docs": [
              "Flag indicating if winnings have been claimed"
            ],
            "type": "bool"
          },
          {
            "name": "claimed_amount",
            "docs": [
              "Amount claimed (in lamports)"
            ],
            "type": "u64"
          },
          {
            "name": "reserved",
            "docs": [
              "Reserved space for future features (64 bytes)"
            ],
            "type": {
              "array": [
                "u8",
                64
              ]
            }
          },
          {
            "name": "bump",
            "docs": [
              "Bump seed for PDA derivation"
            ],
            "type": "u8"
          }
        ]
      }
    },
    {
      "name": "VoteRecord",
      "docs": [
        "Individual vote record for proposal or dispute voting",
        "",
        "PDA Seeds: [b\"vote\", market_key, user_key, &[vote_type as u8]]",
        "",
        "This ensures one vote per (market, user, vote_type) tuple,",
        "preventing duplicate votes while allowing both proposal and",
        "dispute votes on the same market."
      ],
      "type": {
        "kind": "struct",
        "fields": [
          {
            "name": "market",
            "docs": [
              "Market being voted on (32 bytes)"
            ],
            "type": "pubkey"
          },
          {
            "name": "user",
            "docs": [
              "User who cast the vote (32 bytes)"
            ],
            "type": "pubkey"
          },
          {
            "name": "vote_type",
            "docs": [
              "Type of vote (Proposal or Dispute) (1 byte)"
            ],
            "type": {
              "defined": {
                "name": "VoteType"
              }
            }
          },
          {
            "name": "vote",
            "docs": [
              "Vote value (1 byte)",
              "- For proposals: true = like/support, false = dislike/oppose",
              "- For disputes: true = support outcome change, false = reject change"
            ],
            "type": "bool"
          },
          {
            "name": "voted_at",
            "docs": [
              "Unix timestamp when vote was cast (8 bytes)"
            ],
            "type": "i64"
          },
          {
            "name": "bump",
            "docs": [
              "PDA bump seed (1 byte)"
            ],
            "type": "u8"
          }
        ]
      }
    },
    {
      "name": "VoteType",
      "docs": [
        "Type of vote being recorded"
      ],
      "type": {
        "kind": "enum",
        "variants": [
          {
            "name": "Proposal"
          },
          {
            "name": "Dispute"
          }
        ]
      }
    },
    {
      "name": "WinningsClaimed",
      "type": {
        "kind": "struct",
        "fields": [
          {
            "name": "market_id",
            "type": {
              "array": [
                "u8",
                32
              ]
            }
          },
          {
            "name": "user",
            "type": "pubkey"
          },
          {
            "name": "amount",
            "type": "u64"
          },
          {
            "name": "resolver_fee",
            "type": "u64"
          },
          {
            "name": "timestamp",
            "type": "i64"
          }
        ]
      }
    }
  ]
}
